window.ct_user_list_options&&jQuery(function(M){var k=function(t,e){U.get(0)[t].value=e},w=function(t){return U.get(0)[t].value},a=function(){var t=z.total,e=j.labels;if(F.empty(),I.find(".ct-user-list-pagination").remove(),Q.find(".ct-user-list-pagination").remove(),t){var a=M("<table/>"),n=M("<thead/>"),i=M("<tfoot/>"),r=M("<tbody/>"),s=M("<tr/>"),d=j.headers,o=z.users;for(var p in d){var l=d[p],u=M("<th/>");if(l.sortable){var c=w("order_by"),f=M("<a/>").attr("href","#").data("field",p).text(l.label).click(function(t){var e,a,n,i;t.preventDefault(),e=M(this).data("field"),n=w("order_by"),i=w("order"),a=e===n&&"ASC"===i?"DESC":"ASC",k("order_by",e),k("order",a),U.submit()});if(c===p){var v=w("order");f.addClass("ct-user-list-ordered-"+("ASC"===v?"ascending":"descending"))}u.append(f)}else u.text(l.label);s.append(u)}for(var h in a.append(n.append(s)),o){var g=o[h];for(var b in s=M("<tr/>"),d){l=d[b];(u=M("<td/>")).text(g[b]),s.append(u)}r.append(s)}if(n.children().each(function(){var t=M(this).clone(!0);i.append(t)}),a.append(r).append(i),F.append(a),t>o.length){var m=M("<div/>"),_=parseInt(w("page"))||1,C=Math.ceil(t/E),y=[];1<_&&(y.push([1,"«"]),y.push([_-1,"‹"]));for(h=Math.max(1,_-5);h<=Math.min(C,_+5);h++)y.push(h);for(var h in _<C&&(y.push([_+1,"›"]),y.push([C,"»"])),y){var x,A,D,S=y[h];"number"==typeof S?x=A=S:(x=S[0],A=S[1]),(D=x===_?M("<span/>"):M("<a/>").attr("href","#").data("page",x).click(function(t){t.preventDefault(),k("page",M(this).data("page")),U.submit()})).text(A),m.addClass("ct-user-list-pagination").append(D)}I.append(m),Q.append(m.clone(!0))}}else F.append(M("<div/>").addClass("ct-user-list-not-found").text(e.noUsersFound))},j=ct_user_list_options,z=j.data,E=j.page_length,n=M("#ct-user-list-container"),F=n.find(".ct-user-list"),I=n.find(".ct-user-list-actions-top"),Q=n.find(".ct-user-list-actions-bottom"),U=n.find(".ct-user-list-search");M(U.get(0).role).change(function(){k("page",1),U.submit()}),U.submit(function(t){t.preventDefault();var e=U.serialize();n.addClass("ct-user-list-loading").find(":input").attr("disabled","disabled"),M.post({url:U.attr("action"),data:e,success:function(t){z=t,a()},complete:function(t){n.removeClass("ct-user-list-loading").find(":input").removeAttr("disabled")}})}),a()});